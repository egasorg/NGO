// Language data + switcher (English, Arabic, Tamazight)
const I18N = {
  en: {
    site_title: "EGAS – Empowering Growth & Active Society",
    site_desc: "EGAS is a youth-led NGO advancing digital literacy, civic engagement, and inclusive opportunities.",
    nav_about: "About",
    nav_programs: "Programs",
    nav_news: "News",
    nav_team: "Team",
    nav_contact: "Contact",
    hero_title: "Empowering Growth & Active Society",
    hero_sub: "A youth-led NGO building skills, opportunity, and community through digital literacy, civic engagement, and culture.",
    cta_programs: "Explore Programs",
    cta_partner: "Partner with Us",
    about_title: "About EGAS",
    about_text: "EGAS is a youth-led NGO based in Zuwara, Libya. We design practical workshops and community projects that meet people where they are, focusing on <strong>digital safety</strong>, <strong>youth empowerment</strong>, and <strong>inclusive learning</strong>.",
    about_point1: "Hands-on trainings in schools and community spaces",
    about_point2: "Open, inclusive, youth-first approach",
    about_point3: "Partnerships with NGOs, schools, and local councils",
    facts_title: "Quick Facts",
    facts_founded_label: "Founded:",
    facts_founded: "2023 (update if needed)",
    facts_focus_label: "Focus:",
    facts_focus: "Digital literacy, civic engagement",
    facts_footprint_label: "Footprint:",
    facts_footprint: "Libya & Mediterranean partners",
    programs_title: "Programs",
    prog1_title: "Digital Safety Workshops",
    prog1_text: "Practical sessions on privacy, misinformation, and safer online behavior.",
    prog2_title: "Youth Skills & Careers",
    prog2_text: "CV clinics, interview prep, and mentorship with sector professionals.",
    prog3_title: "Community Projects",
    prog3_text: "Co-created initiatives with local partners to solve real problems.",
    news_title: "News & Updates",
    news_intro: "Add short updates here (events, calls for volunteers, partnerships). You can also link to Instagram or Facebook.",
    news_item1: "EGAS website goes live 🎉",

    projects_title: "Projects",
    proj1_title: "“Peace Message” Initiative",
    proj1_text: "Community peace-awareness activities supported by partners such as UNDP Libya and LCDHR. (Add photos & details.)",
    proj2_title: "Digital Safety & Literacy",
    proj2_text: "Workshops for youth on privacy, misinformation, and safe online behavior.",
    proj3_title: "Environment & Cleanup Days",
    proj3_text: "Community cleanups and awareness with local & international partners. (Add links & dates.)",

    team_title: "Team",
    team1_title: "Founder / Media Lead",
    team1_text: "Short bio. Photo and links can go here.",
    team2_title: "Programs Coordinator",
    team2_text: "Short bio. Photo and links can go here.",
    team3_title: "Volunteers",
    team3_text: "Join our volunteer network to support workshops and events.",
    contact_title: "Contact",
    contact_intro: "For partnerships, media, or volunteering, reach out any time.",
    contact_email_label: "Email:",
    contact_instagram_label: "Instagram:",
    contact_instagram_text: "Add link",
    contact_form_title: "Quick Message",
    contact_form_name: "Name ",
    contact_form_email: "Email ",
    contact_form_msg: "Message ",
    contact_form_send: "Send",
    contact_form_note: "Note: This uses your email app. For a real form, use services like Formspree or Netlify Forms.",
    rights: "All rights reserved."
  },
  ar: {
    site_title: "إيجاس – تمكين النمو والمجتمع النشط",
    site_desc: "إيجاس منظمة يقودها الشباب لتعزيز الثقافة الرقمية والمشاركة المدنية والفرص الشاملة.",
    nav_about: "عن إيجاس",
    nav_programs: "البرامج",
    nav_news: "الأخبار",
    nav_team: "الفريق",
    nav_contact: "تواصل",
    hero_title: "تمكين النمو والمجتمع النشط",
    hero_sub: "منظمة شبابية تبني المهارات والفرص والمجتمع عبر الثقافة الرقمية والمشاركة المدنية والثقافة.",
    cta_programs: "استكشف البرامج",
    cta_partner: "شاركنا",
    about_title: "عن إيجاس",
    about_text: "إيجاس منظمة شبابية مقرّها زوارة في ليبيا. نصمم ورشًا عملية ومشاريع مجتمعية تصل للناس حيث هم، ونركز على <strong>السلامة الرقمية</strong> و<strong>تمكين الشباب</strong> و<strong>التعلّم الشامل</strong>.",
    about_point1: "تدريبات عملية في المدارس والمساحات المجتمعية",
    about_point2: "نهج منفتح وشامل يضع الشباب أولًا",
    about_point3: "شراكات مع منظمات ومؤسسات ومجالس محلية",
    facts_title: "حقائق سريعة",
    facts_founded_label: "التأسيس:",
    facts_founded: "2023 (حدّثها إذا لزم)",
    facts_focus_label: "التركيز:",
    facts_focus: "الثقافة الرقمية، المشاركة المدنية",
    facts_footprint_label: "الانتشار:",
    facts_footprint: "ليبيا وشركاء في المتوسط",
    programs_title: "البرامج",
    prog1_title: "ورش السلامة الرقمية",
    prog1_text: "جلسات عملية حول الخصوصية والمعلومات المضللة والسلوك الآمن على الإنترنت.",
    prog2_title: "مهارات الشباب والوظائف",
    prog2_text: "عيادات السيرة الذاتية، التحضير للمقابلات، والإرشاد المهني.",
    prog3_title: "مشاريع مجتمعية",
    prog3_text: "مبادرات مشتركة مع شركاء محليين لحل مشكلات حقيقية.",
    news_title: "الأخبار والتحديثات",
    news_intro: "أضف تحديثات قصيرة هنا (فعاليات، دعوات للتطوع، شراكات). ويمكنك الربط بإنستغرام أو فيسبوك.",
    news_item1: "إطلاق موقع إيجاس 🎉",
    projects_title: "المشاريع",
    proj1_title: "مبادرة «رسالة السلام»",
    proj1_text: "أنشطة توعية بالسلام بالشراكة مع جهات مثل UNDP Libya و LCDHR. (أضِف الصور والتفاصيل.)",
    proj2_title: "السلامة والمهارات الرقمية",
    proj2_text: "ورش للشباب حول الخصوصية والمعلومات المضلّلة والسلوك الآمن على الإنترنت.",
    proj3_title: "البيئة وأيام التنظيف",
    proj3_text: "حملات تنظيف وتوعية بالتعاون مع شركاء محليين ودوليين. (أضِف الروابط والتواريخ.)",
    team_title: "الفريق",
    team1_title: "المؤسس / مسؤول الإعلام",
    team1_text: "نبذة قصيرة. يمكن إضافة صورة وروابط.",
    team2_title: "منسق البرامج",
    team2_text: "نبذة قصيرة. يمكن إضافة صورة وروابط.",
    team3_title: "المتطوعون",
    team3_text: "انضم لشبكة المتطوعين لدعم الورش والفعاليات.",
    contact_title: "تواصل",
    contact_intro: "للشراكات أو الإعلام أو التطوع، راسلنا في أي وقت.",
    contact_email_label: "البريد:",
    contact_instagram_label: "إنستغرام:",
    contact_instagram_text: "أضف الرابط",
    contact_form_title: "رسالة سريعة",
    contact_form_name: "الاسم ",
    contact_form_email: "البريد ",
    contact_form_msg: "الرسالة ",
    contact_form_send: "إرسال",
    contact_form_note: "ملاحظة: هذا يفتح تطبيق بريدك. لاستمارة حقيقية استخدم Formspree أو Netlify Forms.",
    rights: "جميع الحقوق محفوظة."
  },
  tz: {
    site_title: "EGAS – ⵉⵎⴻⵔ ⵏ ⵜⵎⴰⵣⵡⵉⵔ ⴷ ⵜⴰⵎⴰⵣⵉⵖⵜ",
    site_desc: "EGAS ⵜⴰⵎⵣⵓⵔⵜ ⵏ ⵓⵎⵎⴰⵢⵍⵏ ⵜⴰⵎⵓⵜⵉⵜ ⵏ ⵙⴰⵏⵉⵎⵉⵔ ⴷ ⵜⵓⵏⴳⴰⵎⵎⵓⵜ ⵏ ⵜⵎⵓⵔⵙⵉⵜ.",
    nav_about: "ⴰⵎⴰⵣⵉⵖ ⵏ EGAS",
    nav_programs: "ⵜⴰⵎⵙⵙⵉⵏ",
    nav_news: "ⵜⵓⵙⵙⵓⵔⵉⵡⵉⵏ",
    nav_team: "ⵜⵎⴰⵡⵓⵙⵜ",
    nav_contact: "ⵙⵙⵏⴼⵍ",
    hero_title: "ⵎⵓⵎⵎⵉⵍ ⵏ ⵜⵎⴰⵣⵡⵉⵔ ⴷ ⵜⴰⵎⴰⵣⵉⵖⵜ",
    hero_sub: "ⵜⴰⵎⵣⵓⵔⵜ ⵜⴰⵎⵎⴰⵢⵍⵜ ⵏ ⵓⵎⵎⴰⵢⵍⵏ ⴷ ⵎⴰⵣⵉⵖ ⵏ ⵜⵎⵓⵔⵙⵉⵜ ⴷ ⵜⵓⵏⴳⴰⵎⵎⵓⵜ.",
    cta_programs: "ⵙⵎⵎⵉ ⵜⴰⵎⵙⵙⵉⵏ",
    cta_partner: "ⵣⵓⵏ ⵏⵏⵙ",
    about_title: "ⴰⵎⴰⵣⵉⵖ ⵏ EGAS",
    about_text: "EGAS ⵜⵙⵎⵎⵉ ⵡⴰⵙ ⵉⵙ ⵓⵎⵎⴰⵢⵍⵏ, ⵜⵙⵎⵔⵙ ⵉⵎⵎⴰⵢⵍⵏ ⴷ ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵉⵏ. ⵜⵙⴼⵔ ⴰⵎⴰⵣⵉⵖ ⴳ <strong>ⵜⴰⵙⵉⵍⴰ ⵜⴰⵎⴰⵣⵉⵖⵜ</strong> ⴷ <strong>ⵜⵎⴰⵣⵉⵖⵜ ⵏ ⵢⵓⵙⵙⴰⵏ</strong> ⴷ <strong>ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ</strong>.",
    about_point1: "ⵜⵓⵔⵙⵉⵢⵉⵡⵉⵏ ⴳ ⵜⵙⴰⵏⵉⵎⵉⵔ ⴷ ⵡⴰⵏⵙⵙⵉⵔ",
    about_point2: "ⴰⵎⴰⵣⵓⵔ ⴰⴷ ⴰⵎⵓⵜⵉ ⴷ ⵢⵓⵙⵙⴰⵏ ⴰⵎⴰⵣⵉⵖ",
    about_point3: "ⵙⵙⵎⵓⵔⵙ ⴷ ⵎⵎⴰⵙⵏ ⴷ ⵜⵙⴰⵏⵉⵎⵉⵔ ⴷ ⵜⵎⴰⵔⵙⴰ",
    facts_title: "ⴰⴽⴽⵯⵔ ⴰⵎⴰⵣⵉⵖ",
    facts_founded_label: "ⵜⵓⵙⵎⵎⵉⵜ:",
    facts_founded: "2023",
    facts_focus_label: "ⵜⴰⵎⵙⴳⴰⵎⵜ:",
    facts_focus: "ⵜⴰⵎⴰⵣⵉⵖⵜ ⵏ ⵜⵎⵓⵔⵙⵉⵜ, ⵜⵓⵏⴳⴰⵎⵎⵓⵜ",
    facts_footprint_label: "ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ:",
    facts_footprint: "ⵍⵉⴱⵢⴰ ⴷ ⵎⴻⵕⵉⴷⵉⵜⴰⵏⵉⴽ",
    programs_title: "ⵜⴰⵎⵙⵙⵉⵏ",
    prog1_title: "ⵜⵓⵔⵙⵉⵢⵉⵡⵉⵏ ⵏ ⵜⴰⵙⵉⵍⴰ ⵜⴰⵎⴰⵣⵉⵖⵜ",
    prog1_text: "ⵜⵓⵔⵙⵉⵢⵉⵡⵉⵏ ⴳ ⵓⵎⵎⵓⵜ, ⵓⴱⴰⵍ ⴷ ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ ⴳ ⵜⵎⵓⵔⵙⵉⵜ.",
    prog2_title: "ⵢⵓⵙⵙⴰⵏ ⴷ ⵜⴰⵎⴰⵙⵙⵉⵏ ⵏ ⵜⵎⴰⴳⴳⵯⴰⵔ",
    prog2_text: "ⴽⵙⵎ ⴷ ⵜⴻⵔⵍⵉ ⴷ ⵜⵎⴰⵣⵉⵖⵜ ⴳ ⵜⴰⵎⴰⵙⵙⵉⵏ.",
    prog3_title: "ⵜⵎⴰⵣⵉⵖⵉⵡⵉⵏ ⴳ ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ",
    prog3_text: "ⵎⴰⵏⵖ ⵙ ⵎⵎⴰⵙⵏ ⵏ ⵍⵍⵓ ⵎⵉⵏ ⵖⵓⵔ ⵓⵙⵙⵓⵏ.",
    news_title: "ⵜⵓⵙⵙⵓⵔⵉⵡⵉⵏ",
    news_intro: "ⴰⵎⴰⵣⵉⵖ ⴰⵎⴰⴳⵉⵔ ⵏ ⵜⵓⵙⵙⵓⵔⵉⵡⵉⵏ.",
    news_item1: "ⵍⵎⵓⵙ ⵏ ⵍⵎⵉⵔⵙ EGAS 🎉",
    team_title: "ⵜⵎⴰⵡⵓⵙⵜ",
    team1_title: "ⴰⵎⵓⵔ ⴷ ⵎⵉⴷⵉⴰ",
    team1_text: "ⴰⵎⵎⴰⵢ ⵏ ⵉⵎⵎⴻⵔ.",
    team2_title: "ⴰⵎⴰⵙⵙⵉ ⵏ ⵜⴰⵎⵙⵙⵉⵏ",
    team2_text: "ⴰⵎⵎⴰⵢ ⵏ ⵉⵎⵎⴻⵔ.",
    team3_title: "ⵜⴰⵎⵓⵜⵓⵢⵏ",
    team3_text: "ⵣⵔⵉ ⴳ ⵜⵎⴰⵡⵓⵙⵜ ⵏ ⵜⴰⵎⵓⵜⵓⵢⵏ.",
    contact_title: "ⵙⵙⵏⴼⵍ",
    contact_intro: "ⵙⵙⵏⴼⵍ ⴰⴽⴰ ⵎⵎⴰⵏ.",
    contact_email_label: "ⴰⴳⵎⴰⵢ:",
    contact_instagram_label: "Instagram:",
    contact_instagram_text: "ⵔⴱⵓ ⵏ Instagram",
    contact_form_title: "ⵜⴰⵎⴰⵣⵉⵖⵜ ⵜⴰⵎⵎⴰⵢⵍⵜ",
    contact_form_name: "ⵉⵎⵎ ",
    contact_form_email: "ⴰⴳⵎⴰⵢ ",
    contact_form_msg: "ⴰⵙⵙⵏⴳ ",
    contact_form_send: "ⵙⵙⵏⴼⵍ",
    contact_form_note: "ⴰⵙⵏⵎⴻⵔ: ⴰⴽⴰ ⵓⵙⵙⵏⴼⵍ ⵙ ⵜⴰⵎⴰⵣⵉⵖⵜ ⵏ ⴱⵉⵔⴰⴷ.",
    rights: "ⴰⵎⵎⴻⵔ ⵏ ⵓⵙⵏⵏⵓⵖ.",
    projects_title: "ⵜⴰⵎⵙⵙⵉⵏ",
    proj1_title: "ⵜⴰⵎⴰⵣⵉⵖⵜ ⵏ «ⵔⵙⴰⵍⴰ ⵏ ⵙⵍⴰⵎ»",
    proj1_text: "ⵜⵓⵙⵙⵓⵔⵉⵡⵉⵏ ⵏ ⵙⵍⴰⵎ ⴳ ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ ⴷ ⵎⵎⴰⵙⵏ ⵏ UNDP Libya ⴷ LCDHR. (ⴰⴷ ⵜⵙⵙⵉⵍ ⵜⵉⵍⵉⵖⵉⵏ ⴷ ⵜⴰⵙⵙⵏⴳⵜ.)",
    proj2_title: "ⵜⴰⵙⵉⵍⴰ ⵜⴰⵎⴰⵣⵉⵖⵜ ⴷ ⵜⵎⴰⵣⵉⵖⵜ",
    proj2_text: "ⵜⵓⵔⵙⵉⵢⵉⵡⵉⵏ ⴳ ⵜⴰⵙⵉⵍⴰ, ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ, ⴷ ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ ⴳ ⵜⵎⵓⵔⵙⵉⵜ.",
    proj3_title: "ⵜⵎⵓⵔⵙⵉⵢⵉⵡⵜ ⴷ ⵜⵓⵙⵙⵓⵔⵉⵡⵉⵏ ⵏ ⵜⵎⴰⵣⵉⵖⵉⵡⵉⵏ",
    proj3_text: "ⵎⴰⵏⵖ ⵙ ⵎⵎⴰⵙⵏ ⵏ ⵍⵍⵓ ⵎⵉⵏ ⵖⵓⵔ ⴰⵎⵎⴰⵢ.",
  }
};

function applyI18n(lang){
  const dict = I18N[lang] || I18N.en;
  document.documentElement.lang = lang;
  document.documentElement.dir = (lang === "ar") ? "rtl" : "ltr";

  // Update text nodes with data-i18n
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if(dict[key]) el.innerHTML = dict[key];
  });

  // Update meta tags with data-i18n-content
  document.querySelectorAll("[data-i18n-content]").forEach(el => {
    const key = el.getAttribute("data-i18n-content");
    if(dict[key]) el.setAttribute("content", dict[key]);
  });

  // Update <title> text (in case not handled above)
  if(dict.site_title) document.title = dict.site_title;

  // Persist
  try { localStorage.setItem("egas_lang", lang); } catch(e){}
}

function setLang(lang){ applyI18n(lang); }

function toggleNav(){
  const nav = document.querySelector('.nav');
  if(getComputedStyle(nav).display === 'flex'){ nav.style.display = 'none'; }
  else { nav.style.display = 'flex'; }
}

(function init(){
  document.getElementById('year').textContent = new Date().getFullYear();
  const saved = (typeof localStorage !== 'undefined') ? localStorage.getItem("egas_lang") : null;
  const startLang = saved || "en";
  const sel = document.getElementById('lang');
  sel.value = startLang;
  applyI18n(startLang);
})();
